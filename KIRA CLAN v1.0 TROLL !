
local UserInputService = game:GetService("UserInputService")
local CoreGui = game:GetService("CoreGui")

local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "KiraWelcome"
ScreenGui.Parent = CoreGui
ScreenGui.ResetOnSpawn = false

local Frame = Instance.new("Frame")
Frame.Size = UDim2.new(0.6, 0, 0.75, 0)
Frame.Position = UDim2.new(0.2, 0, 0.125, 0)
Frame.BackgroundColor3 = Color3.fromRGB(20, 35, 70)
Frame.BorderSizePixel = 0
Frame.Parent = ScreenGui

local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, 25)
UICorner.Parent = Frame

local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(0.9, 0, 0.18, 0)
Title.Position = UDim2.new(0.05, 0, 0.05, 0)
Title.BackgroundTransparency = 1
Title.Text = "KIRA HUB v1.0"
Title.TextColor3 = Color3.fromRGB(80, 180, 255)
Title.TextScaled = true
Title.Font = Enum.Font.GothamBlack
Title.Parent = Frame

local WelcomeText = Instance.new("TextLabel")
WelcomeText.Size = UDim2.new(0.9, 0, 0.45, 0)
WelcomeText.Position = UDim2.new(0.05, 0, 0.25, 0)
WelcomeText.BackgroundTransparency = 1
WelcomeText.Text = "Welcome to KIRA HUB v1.0!\n\nKIRA CLAN GUI with logo, pages, scroll & tons of scripts.\n\nKey needed — join Discord below!"
WelcomeText.TextColor3 = Color3.fromRGB(220, 230, 255)
WelcomeText.TextScaled = true
WelcomeText.Font = Enum.Font.Gotham
WelcomeText.TextWrapped = true
WelcomeText.Parent = Frame

-- SOCIAL BUTTONS (YouTube + Discord)
local YTBtn = Instance.new("TextButton")
YTBtn.Size = UDim2.new(0.7, 0, 0.1, 0)
YTBtn.Position = UDim2.new(0.15, 0, 0.72, 0)
YTBtn.BackgroundColor3 = Color3.fromRGB(255, 0, 0)  -- YouTube red
YTBtn.Text = "Subscribe to KIRA on YouTube"
YTBtn.TextColor3 = Color3.new(1,1,1)
YTBtn.TextScaled = true
YTBtn.Font = Enum.Font.GothamBold
YTBtn.Parent = Frame

local YTCorner = Instance.new("UICorner")
YTCorner.CornerRadius = UDim.new(0, 12)
YTCorner.Parent = YTBtn

YTBtn.MouseButton1Click:Connect(function()
    setclipboard("https://youtube.com/@kira_0001?si=eblC0my0FQneAzE3")
    warn("YouTube link copied! Support KIRA by subscribing!")
end)

local DiscBtn = Instance.new("TextButton")
DiscBtn.Size = UDim2.new(0.7, 0, 0.1, 0)
DiscBtn.Position = UDim2.new(0.15, 0, 0.84, 0)
DiscBtn.BackgroundColor3 = Color3.fromRGB(0, 120, 255)
DiscBtn.Text = "JOIN DISCORD (for key)"
DiscBtn.TextColor3 = Color3.new(1,1,1)
DiscBtn.TextScaled = true
DiscBtn.Font = Enum.Font.GothamBold
DiscBtn.Parent = Frame

local DiscCorner = Instance.new("UICorner")
DiscCorner.CornerRadius = UDim.new(0, 12)
DiscCorner.Parent = DiscBtn

DiscBtn.MouseButton1Click:Connect(function()
    setclipboard("https://discord.gg/ZH48pK5wen")
    warn("Discord invite copied! Join → key: HEYINEEDTHEKEYMAN")
end)

local ContinueBtn = Instance.new("TextButton")
ContinueBtn.Size = UDim2.new(0.6, 0, 0.1, 0)
ContinueBtn.Position = UDim2.new(0.2, 0, 0.95, 0)
ContinueBtn.BackgroundColor3 = Color3.fromRGB(0, 180, 100)
ContinueBtn.Text = "Continue"
ContinueBtn.TextColor3 = Color3.new(1,1,1)
ContinueBtn.TextScaled = true
ContinueBtn.Font = Enum.Font.GothamBold
ContinueBtn.Parent = Frame

local ContCorner = Instance.new("UICorner")
ContCorner.CornerRadius = UDim.new(0, 14)
ContCorner.Parent = ContinueBtn

local continueVar = false

ContinueBtn.MouseButton1Click:Connect(function()
    continueVar = true
    ScreenGui:Destroy()
end)

UserInputService.InputBegan:Connect(function(input)
    if input.KeyCode == Enum.KeyCode.Return or input.KeyCode == Enum.KeyCode.KeypadEnter then
        continueVar = true
        ScreenGui:Destroy()
    end
end)

repeat task.wait() until continueVar

-- ╔════════════════════════════════════════════╗
-- ║               CUSTOM KEY SYSTEM            ║
-- ╚════════════════════════════════════════════╝

local keyScreen = Instance.new("ScreenGui")
keyScreen.Name = "KiraKeyScreen"
keyScreen.Parent = CoreGui
keyScreen.ResetOnSpawn = false

local keyFrame = Instance.new("Frame")
keyFrame.Size = UDim2.new(0.45, 0, 0.4, 0)
keyFrame.Position = UDim2.new(0.275, 0, 0.3, 0)
keyFrame.BackgroundColor3 = Color3.fromRGB(20, 35, 70)
keyFrame.BorderSizePixel = 0
keyFrame.Parent = keyScreen

local keyCorner = Instance.new("UICorner")
keyCorner.CornerRadius = UDim.new(0, 25)
keyCorner.Parent = keyFrame

local keyTitle = Instance.new("TextLabel")
keyTitle.Size = UDim2.new(1, 0, 0.25, 0)
keyTitle.BackgroundTransparency = 1
keyTitle.Text = "Enter Key"
keyTitle.TextColor3 = Color3.fromRGB(100, 200, 255)
keyTitle.TextScaled = true
keyTitle.Font = Enum.Font.GothamBold
keyTitle.Parent = keyFrame

local keyNote = Instance.new("TextLabel")
keyNote.Size = UDim2.new(0.9, 0, 0.35, 0)
keyNote.Position = UDim2.new(0.05, 0, 0.25, 0)
keyNote.BackgroundTransparency = 1
keyNote.Text = "Key is in Discord!\nhttps://discord.gg/ZH48pK5wen\n\n(Phone: use on-screen keyboard)"
keyNote.TextColor3 = Color3.fromRGB(180, 220, 255)
keyNote.TextScaled = true
keyNote.TextWrapped = true
keyNote.Font = Enum.Font.Gotham
keyNote.Parent = keyFrame

local keyInput = Instance.new("TextBox")
keyInput.Size = UDim2.new(0.8, 0, 0.15, 0)
keyInput.Position = UDim2.new(0.1, 0, 0.6, 0)
keyInput.BackgroundColor3 = Color3.fromRGB(40, 50, 80)
keyInput.TextColor3 = Color3.fromRGB(255, 255, 255)
keyInput.PlaceholderText = "Enter key here..."
keyInput.Text = ""
keyInput.Font = Enum.Font.Gotham
keyInput.TextScaled = true
keyInput.Parent = keyFrame

local keyInputCorner = Instance.new("UICorner")
keyInputCorner.CornerRadius = UDim.new(0, 12)
keyInputCorner.Parent = keyInput

local submitBtn = Instance.new("TextButton")
submitBtn.Size = UDim2.new(0.6, 0, 0.15, 0)
submitBtn.Position = UDim2.new(0.2, 0, 0.8, 0)
submitBtn.BackgroundColor3 = Color3.fromRGB(0, 150, 255)
submitBtn.Text = "Submit Key"
submitBtn.TextColor3 = Color3.new(1,1,1)
submitBtn.TextScaled = true
submitBtn.Font = Enum.Font.GothamBold
submitBtn.Parent = keyFrame

local submitCorner = Instance.new("UICorner")
submitCorner.CornerRadius = UDim.new(0, 14)
submitCorner.Parent = submitBtn

submitBtn.MouseButton1Click:Connect(function()
    if keyInput.Text == "HEYINEEDTHEKEYMAN" then
        keyScreen:Destroy()
        
        -- Your full original GUI starts here
        local Players = game:GetService("Players")
        local Player = Players.LocalPlayer
        local PlayerGui = Player:WaitForChild("PlayerGui")
        local UserInputService = game:GetService("UserInputService")

        local GUI_WIDTH, GUI_HEIGHT = 400, 360
        local TITLE_HEIGHT, NAV_HEIGHT, FOOTER_HEIGHT = 30, 30, 30
        local BUTTON_HEIGHT, BUTTON_PADDING = 30, 5

        local screenGui = Instance.new("ScreenGui")
        screenGui.Name = "KiraClanGui"
        screenGui.ResetOnSpawn = false
        screenGui.Parent = PlayerGui

        local mainFrame = Instance.new("Frame")
        mainFrame.Size = UDim2.new(0, GUI_WIDTH, 0, GUI_HEIGHT)
        mainFrame.Position = UDim2.new(0.5, -GUI_WIDTH/2, 0.5, -GUI_HEIGHT/2)
        mainFrame.BackgroundColor3 = Color3.fromRGB(50, 50, 0)
        mainFrame.BorderSizePixel = 0
        mainFrame.Parent = screenGui

        local titleBar = Instance.new("Frame", mainFrame)
        titleBar.Size = UDim2.new(1, 0, 0, TITLE_HEIGHT)
        titleBar.BackgroundColor3 = Color3.fromRGB(200, 200, 0)
        titleBar.BorderSizePixel = 0

        local titleLabel = Instance.new("TextLabel", titleBar)
        titleLabel.Size = UDim2.new(1, -30, 1, 0)
        titleLabel.Position = UDim2.new(0, 4, 0, 0)
        titleLabel.BackgroundTransparency = 1
        titleLabel.Text = "KIRA CLAN GUI V1.0"
        titleLabel.Font = Enum.Font.SourceSansBold
        titleLabel.TextSize = 18
        titleLabel.TextColor3 = Color3.fromRGB(0, 0, 0)
        titleLabel.TextXAlignment = Enum.TextXAlignment.Left

        local minBtn = Instance.new("TextButton", titleBar)
        minBtn.Size = UDim2.new(0, 30, 1, 0)
        minBtn.Position = UDim2.new(1, -30, 0, 0)
        minBtn.Text = "_"
        minBtn.Font = Enum.Font.SourceSansBold
        minBtn.TextSize = 18
        minBtn.TextColor3 = Color3.fromRGB(0, 0, 0)
        minBtn.BackgroundColor3 = Color3.fromRGB(220, 220, 0)
        minBtn.BorderSizePixel = 0

        local logo = Instance.new("ImageLabel")
        logo.BackgroundTransparency = 1
        logo.Size = UDim2.new(1, -20, 0, 80)
        logo.Position = UDim2.new(0, 10, 0, TITLE_HEIGHT + 5)

        local success, content = pcall(function()
            return Players:GetUserThumbnailAsync(Player.UserId, Enum.ThumbnailType.AvatarBust, Enum.ThumbnailSize.Size420x420)
        end)
        if success then
            logo.Image = content
        else
            logo.Image = "rbxassetid://89124308361661"
        end

        logo.ScaleType = Enum.ScaleType.Fit
        logo.Parent = mainFrame

        local navBar = Instance.new("Frame", mainFrame)
        navBar.Size = UDim2.new(1, 0, 0, NAV_HEIGHT)
        navBar.Position = UDim2.new(0, 0, 0, TITLE_HEIGHT + 85)
        navBar.BackgroundColor3 = Color3.fromRGB(230, 230, 0)
        navBar.BorderSizePixel = 0

        local navButtons = {}

        local function createNavButton(name, xPos, callback)
            local btn = Instance.new("TextButton", navBar)
            btn.Size = UDim2.new(0, 80, 1, 0)
            btn.Position = UDim2.new(0, xPos, 0, 0)
            btn.Text = name
            btn.Font = Enum.Font.SourceSansBold
            btn.TextSize = 14
            btn.TextColor3 = Color3.fromRGB(0, 0, 0)
            btn.BackgroundColor3 = Color3.fromRGB(255, 255, 0)
            btn.BorderSizePixel = 0
            btn.MouseButton1Click:Connect(callback)
            navButtons[name] = btn
        end

        local buttonFrame = Instance.new("ScrollingFrame", mainFrame)
        buttonFrame.Size = UDim2.new(1, -10, 0, GUI_HEIGHT - TITLE_HEIGHT - NAV_HEIGHT - FOOTER_HEIGHT - 95)
        buttonFrame.Position = UDim2.new(0, 5, 0, TITLE_HEIGHT + NAV_HEIGHT + 90)
        buttonFrame.BackgroundTransparency = 1
        buttonFrame.CanvasSize = UDim2.new(0, 0, 0, 0)
        buttonFrame.ScrollBarThickness = 6

        local UIGridLayout = Instance.new("UIGridLayout", buttonFrame)
        UIGridLayout.FillDirection = Enum.FillDirection.Horizontal
        UIGridLayout.CellSize = UDim2.new(0, 120, 0, BUTTON_HEIGHT)
        UIGridLayout.CellPadding = UDim2.new(0, BUTTON_PADDING, 0, BUTTON_PADDING)

        local pages = {
            ["All"] = {
                {"Grab knife", "https://raw.githubusercontent.com/retpirato/Roblox-Scripts/refs/heads/master/Grab%20Knife%20V4.lua"},
                {"JOHN DOE", "https://raw.githubusercontent.com/retpirato/Roblox-Scripts/refs/heads/master/John%20Doe.lua"},
                {"C00lclan ui", "https://raw.githubusercontent.com/cfsmi2/c00lguiv1/refs/heads/main/Main.lua"},
                {"Infinity yield", "https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source"},
                {"Hathub baseplant", "https://raw.githubusercontent.com/inkdupe/hat-scripts/refs/heads/main/updatedhathub.lua"},
                {"Fly", "https://raw.githubusercontent.com/XNEOFF/FlyGuiV3/main/FlyGuiV3.txt"},
                {"Sword V3 baseplant", "https://raw.githubusercontent.com/SwordSimIsGood/Sword-SG/main/Swords%20FE%20Starmd"},
                {"C00lexecutor", "https://raw.githubusercontent.com/rtlsmonk/c00lgui-made-by-rtls_a1-on-discord/refs/heads/main/have-fun"},
                {"Neko V4 baseplant", "https://pastebin.com/raw/au2Fxadh"},
                {"Fe animations baseplant", "https://pastebin.com/raw/vezRxWTi"},
                {"Zero Gravity v3", "https://raw.githubusercontent.com/Bac0nHck/Scripts/refs/heads/main/zerogravity"},
                {"FE Powers", "https://raw.githubusercontent.com/0Ben1/fe/main/obf_rf6iQURzu1fqrytcnLBAvW34C9N55kS9g9G3CKz086rC47M6632sEd4ZZYB0AYgV.lua.txt"}
            },
            ["FE"] = {
                {"Neko V4 baseplant", "https://pastebin.com/raw/au2Fxadh"},
                {"FE Powers", "https://raw.githubusercontent.com/0Ben1/fe/main/obf_rf6iQURzu1fqrytcnLBAvW34C9N55kS9g9G3CKz086rC47M6632sEd4ZZYB0AYgV.lua.txt"},
                {"Fe animations baseplant", "https://pastebin.com/raw/vezRxWTi"}
            },
            ["Baseplant"] = {
                {"Sword V3 baseplant", "https://raw.githubusercontent.com/SwordSimIsGood/Sword-SG/main/Swords%20FE%20Starmd"},
                {"Hathub baseplant", "https://raw.githubusercontent.com/inkdupe/hat-scripts/refs/heads/main/updatedhathub.lua"},
                {"Neko V4 baseplant", "https://pastebin.com/raw/au2Fxadh"},
                {"FE Powers", "https://raw.githubusercontent.com/0Ben1/fe/main/obf_rf6iQURzu1fqrytcnLBAvW34C9N55kS9g9G3CKz086rC47M6632sEd4ZZYB0AYgV.lua.txt"},
                {"Fe animations baseplant", "https://pastebin.com/raw/vezRxWTi"}
            },
            ["Trolls"] = {
                {"Grab knife", "https://raw.githubusercontent.com/retpirato/Roblox-Scripts/refs/heads/master/Grab%20Knife%20V4.lua"},
                {"JOHN DOE", "https://raw.githubusercontent.com/retpirato/Roblox-Scripts/refs/heads/master/John%20Doe.lua"},
                {"C00lclan ui", "https://raw.githubusercontent.com/cfsmi2/c00lguiv1/refs/heads/main/Main.lua"},
                {"Infinity yield", "https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source"},
                {"Zero Gravity v3", "https://raw.githubusercontent.com/Bac0nHck/Scripts/refs/heads/main/zerogravity"}
            }
        }

        local function loadPage(pageName)
            buttonFrame:ClearAllChildren()
            local layout = UIGridLayout:Clone()
            layout.Parent = buttonFrame

            for name, btn in pairs(navButtons) do
                if name == pageName then
                    btn.BackgroundColor3 = Color3.fromRGB(255, 255, 0)
                else
                    btn.BackgroundColor3 = Color3.fromRGB(220, 220, 0)
                end
            end

            for _, scriptData in ipairs(pages[pageName]) do
                local button = Instance.new("TextButton")
                button.Text = scriptData[1]
                button.Font = Enum.Font.SourceSans
                button.TextSize = 14
                button.TextColor3 = Color3.fromRGB(0, 0, 0)
                button.BackgroundColor3 = Color3.fromRGB(220, 220, 0)
                button.BorderSizePixel = 0
                button.Parent = buttonFrame
                button.MouseButton1Click:Connect(function()
                    loadstring(game:HttpGet(scriptData[2], true))()
                end)
            end

            buttonFrame.CanvasSize = UDim2.new(0, 0, 0, math.ceil(#pages[pageName] / 3) * (BUTTON_HEIGHT + BUTTON_PADDING))
        end

        local navX = 0
        for name, _ in pairs(pages) do
            createNavButton(name, navX, function()
                loadPage(name)
            end)
            navX = navX + 85
        end

        local footer = Instance.new("Frame", mainFrame)
        footer.Size = UDim2.new(1, 0, 0, FOOTER_HEIGHT)
        footer.Position = UDim2.new(0, 0, 1, -FOOTER_HEIGHT)
        footer.BackgroundTransparency = 1

        local closeBtn = Instance.new("TextButton", footer)
        closeBtn.Size = UDim2.new(1, 0, 1, 0)
        closeBtn.Text = "Close"
        closeBtn.Font = Enum.Font.SourceSansBold
        closeBtn.TextSize = 18
        closeBtn.TextColor3 = Color3.fromRGB(0, 0, 0)
        closeBtn.BackgroundColor3 = Color3.fromRGB(200, 200, 0)
        closeBtn.BorderSizePixel = 0
        closeBtn.MouseButton1Click:Connect(function()
            screenGui:Destroy()
        end)

        local dragging, dragInput, dragStart, startPos = false
        titleBar.InputBegan:Connect(function(input)
            if input.UserInputType == Enum.UserInputType.MouseButton1 then
                dragging = true
                dragStart = input.Position
                startPos = mainFrame.Position
                input.Changed:Connect(function()
                    if input.UserInputState == Enum.UserInputState.End then dragging = false end
                end)
            end
        end)
        titleBar.InputChanged:Connect(function(input)
            if input.UserInputType == Enum.UserInputType.MouseMovement then dragInput = input end
        end)
        UserInputService.InputChanged:Connect(function(input)
            if input == dragInput and dragging then
                local delta = input.Position - dragStart
                mainFrame.Position = startPos + UDim2.new(0, delta.X, 0, delta.Y)
            end
        end)

        local minimized = false
        minBtn.MouseButton1Click:Connect(function()
            minimized = not minimized
            local visible = not minimized
            buttonFrame.Visible = visible
            navBar.Visible = visible
            footer.Visible = visible
            logo.Visible = visible
            mainFrame.BackgroundTransparency = minimized and 1 or 0
            minBtn.Text = minimized and "◻" or "-"
        end)

        loadPage("All")

        print("KIRA HUB v1.0 loaded - KIRA CLAN GUI V1.0 ready!")
        game.StarterGui:SetCore("SendNotification", {
            Title = "Made by KIRA",
            Text = "Support KIRA by liking/subscribing & joining Discord!",
            Duration = 10
        })
    else
        warn("Wrong key! Try again.")
    end
end)

print("KIRA HUB v1.0 loaded - waiting for key...")
